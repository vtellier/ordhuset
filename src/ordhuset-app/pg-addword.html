
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="oh-style.html">

<dom-module id="pg-addword">
  <template>
    <style include="oh-style">
      /* CSS rules for your element */
    </style>

    <label id="language">Language:</label>
    <paper-radio-group aria-labelledby="language" selected="{{__language}}">
      <paper-radio-button name="no">Norwegian</paper-radio-button>
      <paper-radio-button name="en">English</paper-radio-button>
    </paper-radio-group>
    
    <br>
    <paper-input always-float-label label="The word to add:" value="{{__word}}"></paper-input>
    
    <br>
    <paper-input always-float-label label="Definition of the word (write it in the language of the word):" value="{{__definition}}"></paper-input>
    
    <br>
    <label id="wordclass">Word's class:</label>
    <paper-radio-group aria-labelledby="wordclass" selected="{{__wordclass}}">
      <paper-radio-button name="noun">Noun</paper-radio-button>
      <paper-radio-button name="verb">Verb</paper-radio-button>
    </paper-radio-group>
    
    <br>
    <paper-button raised on-click="__onClick">Submit</paper-button>
    
    <firebase-document
      id="wordDocument"
      path="/dictionary/{{__word}}"
      data="{{__wordEntity}}">
    </firebase-document>
    
  </template>

  <script>
    class PgAddWord extends OhUtils(Polymer.Element) {

      static get is() { return 'pg-addword'; }

      static get properties() {
        return {
          __language: {
            type: String,
            value: "no"
          },
          __wordclass: {
            type: String,
            value: "noun"
          }
        }
      }
      
      __onClick(e) {
          
          if(!this.__wordEntity.hasOwnProperty('defs'))
            this.__wordEntity.defs = [];
          
          this.__wordEntity.defs.push({
            lang: this.__language,
            class: this.__wordclass,
            definition: this.__definition
          });
          
          this.$.wordDocument.saveValue('/dictionary/', this.__word);
      }

    }

    // Register the x-custom element with the browser
    customElements.define(PgAddWord.is, PgAddWord);
  </script>

</dom-module>