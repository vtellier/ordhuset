<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../ordhuset-app/shared-style.html">

<dom-module id="oh-substantive-editor">
  <template>
    <style include="shared-styles">
    </style>
    
    <!-- gender -->
    <label id="genderLabel">Gender:</label>
    <paper-radio-group selected="{{editable.gender}}" aria-labelledby="genderLabel">
      <paper-radio-button name="feminine">feminine</paper-radio-button>
      <paper-radio-button name="masculine">masculine</paper-radio-button>
      <paper-radio-button name="neuter">neuter</paper-radio-button>
    </paper-radio-group>
    
    <!-- singular undefinite
    <paper-input label="Singular indefinite" value="{{editable.singularIndefinite}}" maxlength="50"></paper-input>-->
    
    <!-- singular definite -->
    <paper-input label="Singular definite" value="{{editable.singularDefinite}}" maxlength="50"></paper-input>
    
    <!-- plural undefinite -->
    <paper-input label="Plural indefinite" value="{{editable.pluralIndefinite}}" maxlength="50"></paper-input>
    
    <!-- plural definite -->
    <paper-input label="Plural definite" value="{{editable.pluralDefinite}}" maxlength="50"></paper-input>
    
  </template>
  <script>
    Polymer({
      is: 'oh-substantive-editor',
      properties: {
        substantive: {
          type: Object,
          observer: 'observerSubstantive',
        },
        editable: {
          type: Object,
          reflectToAttribute: true
        },
      },
      
      setToDefault: function() {
        console.log("setToDefault");
        this.editable = {
              gender: 'feminine',
              //singularIndefinite: '', // The singular indefinite is the key!
              singularDefinite: '',
              pluralIndefinite: '',
              pluralDefinite: '',
            };
      },
      
      // Observers
      
      observerSubstantive: function (newData, oldData) {
        console.log("Substantive changed!\n" +
                    "new: " + JSON.stringify(newData) + "\n" +
                    "old: " + JSON.stringify(oldData));
        if(newData == {}) {
          this.setToDefault();
        }
        else {
          this.editable = this.substantive;
          console.log("editable is set");
        }
      },
    })
  </script>
</dom-module>